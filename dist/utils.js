(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("reader", [], factory);
	else if(typeof exports === 'object')
		exports["reader"] = factory();
	else
		root["reader"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/utils/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n//# sourceURL=webpack://reader/./node_modules/@babel/runtime/helpers/asyncToGenerator.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n//# sourceURL=webpack://reader/./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/regenerator/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! regenerator-runtime */ \"./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js\");\n\n\n//# sourceURL=webpack://reader/./node_modules/@babel/runtime/regenerator/index.js?");

/***/ }),

/***/ "./node_modules/@ridi/reader.js/web/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@ridi/reader.js/web/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var require;var require;/*! @ridi/reader.js v2.0.0-alpha.28 */\n\nif(function(f){if(true)module.exports=f();else {}}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return require(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var obj,_Logger=(obj=require(\"./Logger\"))&&obj.__esModule?obj:{default:obj};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Context=function(){function Context(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,Context),this.width=void 0,this.height=void 0,this.gap=void 0,this.isDoublePageMode=!1,this.isScrollMode=!1,this.maxSelectionLength=1e3,this.systemMajorVersion=void 0,this.isSameDomAsUi=!1,this.shouldViewportInitialize=!1,this.shouldTwoPageAsOneWhenDoublePageMode=!1,this.onMessage=function(message){return _Logger.default.info(message)}}return _createClass(Context,[{key:\"pageGap\",get:function(){return this.gap}},{key:\"pageUnit\",get:function(){return this.isScrollMode?this.pageHeightUnit:this.pageWidthUnit}},{key:\"pageWidthUnit\",get:function(){var weight=this.shouldTwoPageAsOneWhenDoublePageMode&&this.isDoublePageMode?2:1;return(this.width+this.pageGap)*weight}},{key:\"pageHeightUnit\",get:function(){return this.height}}]),_createClass(Context,[{key:\"toObject\",value:function(){return{width:this.width,height:this.height,gap:this.height,isDoublePageMode:this.isDoublePageMode,isScrollMode:this.isScrollMode,maxSelectionLength:this.maxSelectionLength,systemMajorVersion:this.systemMajorVersion,isSameDomAsUi:this.isSameDomAsUi,shouldViewportInitialize:this.shouldViewportInitialize,shouldTwoPageAsOneWhenDoublePageMode:this.shouldTwoPageAsOneWhenDoublePageMode,onMessage:this.onMessage}}}],[{key:\"build\",value:function(builder){var context=new Context;return builder(context),Object.freeze(context),context}}]),Context}();exports.default=Context},{\"./Logger\":2}],2:[function(require,module,exports){\"use strict\";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var Logger=function(){function Logger(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,Logger)}var Constructor,protoProps,staticProps;return Constructor=Logger,staticProps=[{key:\"info\",value:function(message){for(var _console,_len=arguments.length,optionalParams=new Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)optionalParams[_key-1]=arguments[_key];(_console=console).log.apply(_console,[message].concat(optionalParams))}},{key:\"debug\",value:function(message){if(false){ var _console2, _len2, optionalParams, _key2; }}},{key:\"error\",value:function(message){for(var _console3,_len3=arguments.length,optionalParams=new Array(1<_len3?_len3-1:0),_key3=1;_key3<_len3;_key3++)optionalParams[_key3-1]=arguments[_key3];(_console3=console).error.apply(_console3,[message].concat(optionalParams))}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Logger}();exports.default=Logger},{}],3:[function(require,module,exports){\"use strict\";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var Type={TOP:\"top\",BOTTOM:\"bottom\"},NodeLocation=function(){function NodeLocation(){var nodeIndex=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,wordIndex=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,type=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Type.TOP;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,NodeLocation),this._nodeIndex=nodeIndex,this._wordIndex=wordIndex,this._type=type}return _createClass(NodeLocation,[{key:\"nodeIndex\",get:function(){return this._nodeIndex}},{key:\"wordIndex\",get:function(){return this._wordIndex}},{key:\"type\",get:function(){return this._type}}]),_createClass(NodeLocation,[{key:\"toString\",value:function(){return\"\".concat(this.nodeIndex).concat(\"#\").concat(this.wordIndex)}}],[{key:\"fromString\",value:function(string,type){var parts=string.split(\"#\");return new NodeLocation(parseInt(parts[0],10),parseInt(parts[1],10),type)}}]),NodeLocation}();NodeLocation.Type=Type;var _default=NodeLocation;exports.default=_default},{}],4:[function(require,module,exports){\"use strict\";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var Rect=function(){function Rect(rect){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,Rect),rect?(this.left=rect.left||rect.x||0,this.top=rect.top||rect.y||0,this.right=rect.right||this.left+(rect.width||0),this.bottom=rect.bottom||this.top+(rect.height||0)):(this.left=0,this.top=0,this.right=0,this.bottom=0)}return _createClass(Rect,[{key:\"isZero\",get:function(){return 0===this.left&&0===this.top&&0===this.right&&0===this.bottom}},{key:\"isEmpty\",get:function(){return this.left>=this.right||this.top>=this.bottom}},{key:\"width\",get:function(){return Math.max(this.right-this.left,0)}},{key:\"height\",get:function(){return Math.max(this.bottom-this.top,0)}},{key:\"x\",get:function(){return this.left},set:function(newX){this.left=newX}},{key:\"minX\",get:function(){return this.left}},{key:\"midX\",get:function(){return this.left+this.width/2}},{key:\"maxX\",get:function(){return this.left+this.width}},{key:\"y\",get:function(){return this.top},set:function(newY){this.top=newY}},{key:\"minY\",get:function(){return this.top}},{key:\"midY\",get:function(){return this.top+this.height/2}},{key:\"maxY\",get:function(){return this.top+this.height}},{key:\"center\",get:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}}}]),_createClass(Rect,[{key:\"equals\",value:function(rect){return rect=new Rect(rect),this.left===rect.left&&this.top===rect.top&&this.width===rect.width&&this.height===rect.height}},{key:\"contains\",value:function(xOrRect,y){if(this.isEmpty)return!1;if(\"number\"!=typeof xOrRect){var rect=new Rect(xOrRect);return!rect.isEmpty&&(this.left<=rect.left&&this.top<=rect.top&&this.right>=rect.right&&this.bottom>=rect.bottom)}return this.left<=xOrRect&&xOrRect<=this.right&&this.top<=y&&y<=this.bottom}},{key:\"inset\",value:function(widthOrLeftOrAll,heightOrTop,right,bottom){if(void 0===widthOrLeftOrAll)return this;if(void 0===heightOrTop&&void 0===right&&void 0===bottom){var inset=widthOrLeftOrAll;return this.inset(inset,inset,inset,inset)}if(void 0===right&&void 0===bottom){var width=widthOrLeftOrAll,height=heightOrTop;return this.inset(width/2,height/2,width/2,height/2)}return this.left-=widthOrLeftOrAll,this.top+=heightOrTop,this.right-=right,this.bottom+=bottom||0,this}},{key:\"intersection\",value:function(rect){rect=new Rect(rect);var left=Math.max(this.left,rect.left),top=Math.max(this.top,rect.top),right=Math.min(this.right,rect.right),bottom=Math.min(this.bottom,rect.bottom);return left<right&&top<bottom?new Rect({left:left,top:top,right:right,bottom:bottom}):new Rect}},{key:\"toAbsolute\",value:function(){return null}},{key:\"toJsonString\",value:function(){return JSON.stringify(this.toObject())}},{key:\"toObject\",value:function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom,width:this.width,height:this.height,x:this.x,y:this.y}}}]),Rect}();exports.default=Rect},{}],5:[function(require,module,exports){\"use strict\";function _typeof(obj){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||\"object\"!==_typeof(call)&&\"function\"!=typeof call?function(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}(self):call}function _wrapNativeSuper(Class){var _cache=\"function\"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf(\"[native code]\")))return Class;var fn;if(\"function\"!=typeof Class)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var RectList=function(_Array){function RectList(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,RectList),_possibleConstructorReturn(this,_getPrototypeOf(RectList).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RectList,_wrapNativeSuper(Array)),Constructor=RectList,(protoProps=[{key:\"contains\",value:function(xOrRect,y){return\"number\"==typeof xOrRect&&void 0!==y?void 0!==this.find(function(rect){return rect.contains(xOrRect,y)}):void 0!==this.find(function(rect){return rect.contains(xOrRect)})}},{key:\"trim\",value:function(){return this.filter(function(rect){return 1<rect.width})}},{key:\"toAbsolute\",value:function(){return this.map(function(rect){return rect.toAbsolute()})}},{key:\"toJsonString\",value:function(){return JSON.stringify(this.map(function(rect){return rect.toObject()}))}},{key:\"toArray\",value:function(){return this.map(function(rect){return rect.toObject()})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),RectList}();exports.default=RectList},{}],6:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _Logger=_interopRequireDefault(require(\"./Logger\")),_Util=_interopRequireDefault(require(\"./Util\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var SpeechUtil=function(){function SpeechUtil(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,SpeechUtil)}var Constructor,protoProps,staticProps;return Constructor=SpeechUtil,staticProps=[{key:\"_createRegex\",value:function(prefix,pattern,suffix,flags){return new RegExp(\"\".concat(prefix||\"\").concat(pattern||\"\").concat(suffix||\"\"),flags||\"gm\")}},{key:\"getSplitWordRegex\",value:function(){return _Util.default.getSplitWordRegex()}},{key:\"getWhitespaceRegex\",value:function(prefix,suffix,flags){return this._createRegex(prefix,\"[ \\\\u00A0]\",suffix,flags)}},{key:\"getNewLineRegex\",value:function(prefix,suffix,flags){return this._createRegex(prefix,\"[\\\\r\\\\n]\",suffix,flags)}},{key:\"getWhitespaceAndNewLineRegex\",value:function(prefix,suffix,flags){return this._createRegex(prefix,\"[\\\\t\\\\r\\\\n\\\\s\\\\u00A0]\",suffix,flags)}},{key:\"getSentenceRegex\",value:function(prefix,suffix,flags){return this._createRegex(prefix,\"[.。?!\\\"”'’」』〞〟]\",suffix,flags)}},{key:\"isLastCharOfSentence\",value:function(){return null!==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"\").match(this.getSentenceRegex())}},{key:\"isDigitOrLatin\",value:function(){var code=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"\").charCodeAt(0);return this.isLatinCharCode(code)||this.isDigitCharCode(code)}},{key:\"isPeriodPointOrName\",value:function(textWithPeriod,textAfterPeriod){if(void 0===textWithPeriod||void 0===textAfterPeriod)return!1;var hit=0,index=textWithPeriod.search(/[.](\\s{0,})$/gm);return 0<index&&this.isDigitOrLatin(textWithPeriod[index-1])&&(hit+=1),0<=(index=textAfterPeriod.search(/[^\\s]/gm))&&this.isDigitOrLatin(textAfterPeriod[index])&&(hit+=1),2===hit}},{key:\"getBrackets\",value:function(){var text=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"\";try{return text.match(/[\\(\\)\\{\\}\\[\\]]/gm)||[]}catch(e){return[]}}},{key:\"isOnePairBracket\",value:function(){return null!==((0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"\")+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"\")).match(/\\(\\)|\\{\\}|\\[\\]/gm)}},{key:\"mergeSentencesWithinBrackets\",value:function(){var _this=this,sentences=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],resultSentences=[],brackets=[];return sentences.forEach(function(sentence){var didBracketsExist=0<brackets.length;_this.getBrackets(sentence).forEach(function(newBracket){var lastBracket=brackets.pop();lastBracket?_this.isOnePairBracket(lastBracket,newBracket)||(brackets.push(lastBracket),brackets.push(newBracket)):brackets.push(newBracket)}),resultSentences.push((didBracketsExist?resultSentences.pop():\"\")+sentence)}),0<brackets.length&&(_Logger.default.error(\"Brackets does not match.\"),_Logger.default.error({sentences:sentences,brackets:brackets,resultSentences:resultSentences})),resultSentences}},{key:\"_containCharCode\",value:function(code,table){if(!isNaN(code))for(var i=0;i<table.length;i+=2)if(table[i]<=code&&code<=table[i+1])return!0;return!1}},{key:\"isDigitCharCode\",value:function(code){return this._containCharCode(code,[48,57])}},{key:\"isSpaceCharCode\",value:function(code){return 32===code||160===code}},{key:\"isTildeCharCode\",value:function(code){return 126===code||8764===code||12316===code}},{key:\"isColonCharCode\",value:function(code){return 58===code}},{key:\"hangulCodeTable\",value:function(){return[44032,55215]}},{key:\"isHangulCharCode\",value:function(code){return this._containCharCode(code,this.hangulCodeTable())}},{key:\"latinCodeTable\",value:function(){return[32,127,160,255,256,383,384,591]}},{key:\"isLatinCharCode\",value:function(code,flag){if(isNaN(code))return!1;if(256<=code&&code<=383){if(\"u\"===flag){if(256<=code&&code<=311&&code%2==0||330<=code&&code<=375&&code%2==0||313<=code&&code<=328&&code%2==1||377<=code&&code<=382&&code%2==1)return!0;if(376===code)return!0}else if(\"l\"===flag){if(256<=code&&code<=311&&code%2==1||330<=code&&code<=375&&code%2==1||313<=code&&code<=328&&code%2==0||377<=code&&code<=382&&code%2==0)return!0;if(312===code||329===code||383===code)return!0}return!1}if(384<=code&&code<=591)return!0;var table,uppercaseTable=[65,90,192,214,216,222],lowercaseTable=[97,122,223,246,248,255];return table=\"u\"===flag?uppercaseTable:\"l\"===flag?lowercaseTable:[].concat(uppercaseTable).concat(lowercaseTable),this._containCharCode(code,table)}},{key:\"chineseCodeTable\",value:function(){return[19968,40959,63744,64255,13056,13311,13312,19903,131072,173791,173824,177983,177984,178207,178208,183983,183984,191471,194560,195103]}},{key:\"isChineseCharCode\",value:function(code){return this._containCharCode(code,this.chineseCodeTable())}},{key:\"japaneseCodeTable\",value:function(){return[12288,12351,12352,12447,12448,12543,65280,65519,19968,40959]}},{key:\"isJapaneseCharCode\",value:function(code){return this._containCharCode(code,this.japaneseCodeTable())}},{key:\"getContainCharRegex\",value:function(){var tables=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],toUnicode=function(num){return 65535<num?null:String.fromCharCode(num)},string=\"[\";return tables.forEach(function(table){for(var i=0;i<table.length;i+=2){var lower=toUnicode(table[i]),upper=toUnicode(table[i+1]);lower&&upper&&(string+=\"\".concat(lower,\"-\").concat(upper))}}),string+=\"]\",new RegExp(\"^\".concat(string,\"{1,}$\"),\"gm\")}},{key:\"getInitialCharCode\",value:function(code){return 12544+[49,50,52,55,56,57,65,66,67,70,71,72,73,74,75,76,77,78][(code-44032-(code-44032)%28)/28/21]}},{key:\"getMedialCharCodeIndex\",value:function(code){return(code-44032-(code-44032)%28)/28%21}},{key:\"getMedialCharCode\",value:function(code){return 12544+[79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99][this.getMedialCharCodeIndex(code)]}},{key:\"getFinalCharCode\",value:function(code){var index=(code-44032)%28;return(0===index?0:12544)+[0,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,68,69,70,71,72,74,75,76,77,78][index]}},{key:\"numericToNotationString\",value:function(num){var ones,tens,teens,isHangul=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];isHangul?(ones=[\"\",\"일\",\"이\",\"삼\",\"사\",\"오\",\"육\",\"칠\",\"팔\",\"구\"],tens=[\"\",\"일\",\"이\",\"삼\",\"사\",\"오\",\"육\",\"칠\",\"팔\",\"구\"],teens=[\"십\",\"일\",\"이\",\"삼\",\"사\",\"오\",\"육\",\"칠\",\"팔\",\"구\"]):(ones=[\"\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\"],tens=[\"\",\"\",\"twenty\",\"thirty\",\"forty\",\"fifty\",\"sixty\",\"seventy\",\"eighty\",\"ninety\"],teens=[\"ten\",\"eleven\",\"twelve\",\"thirteen\",\"fourteen\",\"fifteen\",\"sixteen\",\"seventeen\",\"eighteen\",\"nineteen\"]);var convertTens=function(_num){if(_num<10)return ones[_num];if(!isHangul&&10<=_num&&_num<20)return teens[_num-10];if(isHangul&&_num<20)return\"십\".concat(ones[_num%10]);var unit=isHangul?\"십\":\" \";return\"\".concat(tens[Math.floor(_num/10)]).concat(unit).concat(ones[_num%10])},convertHundreds=function(_num){if(99<_num){if(isHangul&&_num<200)return\"백\".concat(convertTens(_num%100));var unit=isHangul?\"백\":\" hundred \";return\"\".concat(ones[Math.floor(_num/100)]).concat(unit)+\"\".concat(convertTens([_num%100]))}return convertTens(_num)},convertThousands=function convertThousands(_num){if(1e3<=_num){if(isHangul&&_num<2e3)return\"천\".concat(convertHundreds(_num%1e3));var unit=isHangul?\"천\":\" thousand \";return\"\".concat(convertThousands(Math.floor(_num/1e3))).concat(unit)+\"\".concat(convertHundreds([_num%1e3]))}return convertHundreds(_num)};return 0===num?isHangul?\"영\":\"zero\":function convertMillions(_num){var base=isHangul?1e4:1e6;if(base<=_num){if(isHangul&&_num<2*base)return\"만\".concat(convertThousands(_num%base));var unit=isHangul?\"만\":\" million \";return\"\".concat(convertMillions(Math.floor(_num/base))).concat(unit)+\"\".concat(convertThousands([_num%base]))}return convertThousands(_num)}(num).trim()}},{key:\"numericToOrdinalString\",value:function(num){var _this2=this,suffix=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"\",ones=[\"\",\"한\",\"두\",\"세\",\"네\",\"다섯\",\"여섯\",\"일곱\",\"여덟\",\"아홉\"],tens=[\"\",\"하나\",\"둘\",\"셋\",\"넷\",\"다섯\",\"여섯\",\"일곱\",\"여덟\",\"아홉\"],teens=[\"\",\"열\",\"스물\",\"서른\",\"마흔\",\"쉰\",\"예순\",\"일흔\",\"여든\",\"아흔\"],c=null!==suffix.match(/^(명|공|달|시|종|벌|채|갈|쾌|근|문|큰|살|째)(?!러)/gm);if(!c&&suffix.length)return null;var _num,convertTens=function(_num){if(_num<10)return ones[_num];var unit=c?ones[_num%10]:tens[_num%10];return\"\".concat(teens[Math.floor(_num/10)]).concat(unit)},convertHundreds=function(_num){return 99<_num?_num<200?\"백\".concat(convertTens(_num%100)):\"\".concat(_this2.numericToNotationString(Math.floor(_num/100)),\"백\")+\"\".concat(convertTens(_num%100)):convertTens(_num)},convertThousands=function(_num){return 1e3<=_num?_num<2e3?\"천\".concat(convertHundreds(_num%1e3)):\"\".concat(_this2.numericToNotationString(Math.floor(_num/1e3)),\"천\")+\"\".concat(convertHundreds(_num%1e3)):convertHundreds(_num)};return 0===num?null:1e4<=(_num=num)?_num<2e4?\"만\".concat(convertThousands(_num%1e4)):\"\".concat(_this2.numericToNotationString(Math.floor(_num/1e4)),\"만\")+\"\".concat(convertThousands(_num%1e4)):convertThousands(_num)}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SpeechUtil}();exports.default=SpeechUtil},{\"./Logger\":2,\"./Util\":7}],7:[function(require,module,exports){\"use strict\";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _NodeFilter=NodeFilter,SHOW_TEXT=_NodeFilter.SHOW_TEXT,FILTER_ACCEPT=_NodeFilter.FILTER_ACCEPT,FILTER_SKIP=_NodeFilter.FILTER_SKIP,Util=function(){function Util(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,Util)}var Constructor,protoProps,staticProps;return Constructor=Util,staticProps=[{key:\"createTextNodeIterator\",value:function(root){var filter=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!0};return document.createNodeIterator(root,SHOW_TEXT,{acceptNode:function(node){return filter(node)?FILTER_ACCEPT:FILTER_SKIP}},!0)}},{key:\"createNodeIterator\",value:function(root,whatToShow){var filter=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){return!0},entityReferenceExpansion=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return document.createNodeIterator(root,whatToShow,{acceptNode:function(node){return filter(node)?FILTER_ACCEPT:FILTER_SKIP}},entityReferenceExpansion)}},{key:\"getFootnoteRegex\",value:function(){return/^(\\[|\\{|\\(|주|)[0-9].*(\\)|\\}|\\]|\\.|)$/gm}},{key:\"getSplitWordRegex\",value:function(){return new RegExp(\" |\\\\u00A0\")}},{key:\"getImageSize\",value:function(element){var attrs=element.attributes,zeroAttr=document.createAttribute(\"size\");return zeroAttr.value=\"0px\",{dWidth:element.width,dHeight:element.height,nWidth:element.naturalWidth,nHeight:element.naturalHeight,sWidth:Util.getMatchedCSSValue(element,\"width\"),sHeight:Util.getMatchedCSSValue(element,\"height\"),aWidth:(attrs.width||zeroAttr).value,aHeight:(attrs.height||zeroAttr).value}}},{key:\"getStylePropertyValue\",value:function(target,property){var style=target;return target.nodeType&&(style=window.getComputedStyle(target)),parseFloat(style[property])||0}},{key:\"getStylePropertyValues\",value:function(target,properties){var style=target;target.nodeType&&(style=window.getComputedStyle(target));for(var value=0,i=0;i<properties.length;i+=1)value+=parseInt(style[properties[i]],10)||0;return value}},{key:\"_getMatchedCSSValue\",value:function(element,property){var val=element.style.getPropertyValue(property);if(element.style.getPropertyPriority(property))return val;var rules=window.getMatchedCSSRules(element);if(null===rules)return val;for(var i=rules.length-1;0<=i;i-=1){var rule=rules[i],important=rule.style.getPropertyPriority(property);if((null===val||0===val.length||important)&&(val=rule.style.getPropertyValue(property),important))break}return val}},{key:\"getMatchedCSSValue\",value:function(element,property){for(var val,recursive=2<arguments.length&&void 0!==arguments[2]&&arguments[2];!(val=this._getMatchedCSSValue(element,property))&&null!==(element=element.parentElement)&&recursive;);return val}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Util}();exports.default=Util},{}],8:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _NodeLocation=_interopRequireDefault(require(\"./NodeLocation\")),_Util=_interopRequireDefault(require(\"./Util\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj})(obj)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var i,_Node=Node,TEXT_NODE=_Node.TEXT_NODE,ELEMENT_NODE=_Node.ELEMENT_NODE,DOCUMENT_POSITION_FOLLOWING=_Node.DOCUMENT_POSITION_FOLLOWING,DOCUMENT_POSITION_CONTAINED_BY=_Node.DOCUMENT_POSITION_CONTAINED_BY,_NodeFilter=NodeFilter,SHOW_TEXT=_NodeFilter.SHOW_TEXT,SHOW_ELEMENT=_NodeFilter.SHOW_ELEMENT,Type=_NodeLocation.default.Type,makeId=(i=0,function(prefix){return\"\".concat(prefix).concat(++i)}),_default=function(){function _Content(element,reader){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,_Content),this._ref=element,this._reader=reader,this._sel=this._createSel(),this._speechHelper=this._createSpeechHelper(),this._nodes=null}return _createClass(_Content,[{key:\"ref\",get:function(){return this._ref}},{key:\"sel\",get:function(){return this._sel}},{key:\"speechHelper\",get:function(){return this._speechHelper}},{key:\"nodes\",get:function(){return this._nodes=this._nodes||this._getNodes(),this._nodes}},{key:\"images\",get:function(){return Array.from(this.ref.getElementsByTagName(\"IMG\"))}},{key:\"_context\",get:function(){return this._reader.context}}]),_createClass(_Content,[{key:\"_getNodes\",value:function(){for(var node,iterator=_Util.default.createNodeIterator(this.ref,SHOW_TEXT|SHOW_ELEMENT,function(node){return node.nodeType===TEXT_NODE||node.nodeType===ELEMENT_NODE&&\"IMG\"===node.nodeName}),nodes=[];node=iterator.nextNode();)nodes.push(node);return nodes}},{key:\"_createSel\",value:function(){return null}},{key:\"_createSpeechHelper\",value:function(){return null}},{key:\"_generateId\",value:function(element){var prefix=element.nodeName,id=Array.from(element.classList).find(function(item){return item.match(new RegExp(\"\".concat(prefix,\"*\")))})||makeId(prefix);return element.classList.remove(id),element.classList.add(id),id}},{key:\"setHidden\",value:function(hidden,elementOrId){var el;\"string\"==typeof elementOrId?(el=_slicedToArray(document.getElementsByClassName(elementOrId),1)[0])||(el=document.getElementById(elementOrId)):el=elementOrId;el&&(el.style.visibility=hidden?\"hidden\":\"\")}},{key:\"elementFromPoint\",value:function(x,y,tag){if(this._context.isSameDomAsUi){var find=function(element){return element.getClientRects().toRectList().contains(x,y)};if(tag)return Array.from(this.ref.querySelectorAll(tag)).find(find)||null;for(var element,iterator=_Util.default.createNodeIterator(this.ref,SHOW_ELEMENT),topElement=null;element=iterator.nextNode();)if(find(element))if(topElement){var _result=topElement.compareDocumentPosition(element);(_result&DOCUMENT_POSITION_FOLLOWING||_result&DOCUMENT_POSITION_CONTAINED_BY)&&(topElement=element)}else topElement=element;return topElement}var result=document.elementFromPoint(x,y);if(tag)for(;result&&result.nodeName.toLowerCase()!==tag.toLowerCase();)result=result.parentElement;return result}},{key:\"imageFromPoint\",value:function(x,y){var element=this.elementFromPoint(x,y,\"IMG\");return element&&element.src?{id:this._generateId(element),element:element,src:element.src||\"null\",rect:element.getBoundingClientRect().toRect()}:null}},{key:\"svgFromPoint\",value:function(x,y){var element=this.elementFromPoint(x,y,\"SVG\");if(element){var prefix=\"<svg\";element.attributes.forEach(function(attr){prefix+=\" \".concat(attr.nodeName,'=\"').concat(attr.nodeValue,'\"')}),prefix+=\">\";for(var svgElement=document.createElement(\"svgElement\"),nodes=element.childNodes,j=0;j<nodes.length;j+=1)svgElement.appendChild(nodes[j].cloneNode(!0));return{id:this._generateId(svgElement),element:svgElement,html:\"\".concat(prefix).concat(svgElement.innerHTML,\"</svg>\"),rect:svgElement.getBoundingClientRect().toRect()}}return null}},{key:\"_getLinkFromNode\",value:function(node){for(;node;){var _node=node,nodeName=_node.nodeName,href=_node.href,attributes=_node.attributes;if(node&&\"A\"===nodeName)return{node:node,href:href,type:(attributes[\"epub:type\"]||{value:\"\"}).value};node=node.parentNode}return null}},{key:\"linkFromPoint\",value:function(x,y){if(0===document.links.length)return null;for(var point_x=x,point_y=y,_x=point_x-12;_x<=point_x+12;_x+=6)for(var _y=point_y-12;_y<=point_y+12;_y+=6){var element=this.elementFromPoint(_x,_y);if(element){var link=this._getLinkFromNode(element);if(null!==link)return link}}return null}},{key:\"_reviseImage\",value:function(element,baseWidth,baseHeight){var compareSize=function(size1,size2){var value,intVal=parseInt(size1,10);if(!isNaN(intVal)){if(-1!==(\"string\"==typeof(value=size1)?value.search(/%/):-1)){if(100<intVal)return 1;if(intVal<100)return-1}if(size2<intVal)return 1;if(intVal<size2)return-1}return 0},calcRate=function(){var n,m,width=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,height=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return height<width?(n=height,m=width):(n=width,m=height),n/m*100},size=_Util.default.getImageSize(element),cssWidth=\"\",cssHeight=\"\";if(0===size.nWidth||0===size.nHeight)return{element:element,width:cssWidth,height:cssHeight,position:\"\",size:size};(0<compareSize(size.sWidth,size.nWidth)||0<compareSize(size.aWidth,size.nWidth))&&(cssWidth=\"initial\"),(0<compareSize(size.sHeight,size.nHeight)||0<compareSize(size.aHeight,size.nHeight))&&(cssHeight=\"initial\");var rate=0;(size.nWidth>=size.nHeight!=size.dWidth>=size.dHeight||1<Math.abs(calcRate(size.nWidth,size.nHeight)-calcRate(size.dWidth,size.dHeight)))&&(size.dWidth>=size.dHeight&&size.dWidth<size.nWidth?(rate=calcRate(size.dWidth,size.nWidth)/100,size.dWidth<baseWidth&&Math.round(size.nHeight*rate)<baseHeight?(cssWidth=\"\".concat(size.dWidth,\"px\"),cssHeight=\"\".concat(Math.round(size.nHeight*rate),\"px\")):cssHeight=cssWidth=\"initial\"):size.dWidth<size.dHeight&&size.dHeight<size.nHeight?(rate=calcRate(size.dHeight,size.nHeight)/100,Math.round(size.nWidth*rate)<baseWidth&&size.dHeight<baseHeight?(cssWidth=\"\".concat(Math.round(size.nWidth*rate),\"px\"),cssHeight=\"\".concat(size.dHeight,\"px\")):cssHeight=cssWidth=\"initial\"):cssHeight=cssWidth=\"initial\");var width=parseInt(cssWidth,10)||size.dWidth,height=parseInt(cssHeight,10)||size.dHeight;if(baseWidth<width||baseHeight<height){var margin=(this._context.isScrollMode?0:element.offsetTop)+_Util.default.getStylePropertyValues(element,[\"line-height\",\"margin-bottom\",\"padding-bottom\"]),vmin=Math.min(baseWidth,baseHeight)/2,adjustHeight=Math.max(.95*(baseHeight-margin),vmin),adjustWidth=adjustHeight/size.nHeight*size.nWidth;baseWidth<adjustWidth&&(adjustHeight*=baseWidth/adjustWidth,adjustWidth=baseWidth),cssWidth=\"\".concat(adjustWidth,\"px\"),cssHeight=\"\".concat(adjustHeight,\"px\")}return{element:element,width:cssWidth,height:cssHeight,position:\"\",size:size}}},{key:\"_getOffsetDirectionFromElement\",value:function(element){var direction=this._context.isScrollMode?\"top\":\"left\";if(element){var position=_Util.default.getMatchedCSSValue(element,\"position\",!0);\"left\"===direction&&\"absolute\"===position&&(direction=\"top\")}return direction}},{key:\"getPageFromRect\",value:function(){return null}},{key:\"_getElementById\",value:function(id){return 1<this._reader.contents.length||id?this.ref.querySelector(\"#\".concat(id)):document.getElementById(id)}},{key:\"_getOffsetFromAnchor\",value:function(anchor,block){var element=this._getElementById(anchor);if(element){var node=_Util.default.createTextNodeIterator(element).nextNode();if(node){var range=document.createRange();range.selectNodeContents(node);var display=window.getComputedStyle(element).display,rectList=range.getClientRects().toRectList().toAbsolute();if(rectList.length)return block(rectList[0],element);if(\"none\"===display){element.style.display=\"block\";var rect=element.getBoundingClientRect().toRect().toAbsolute();return element.style.display=\"none\",block(rect,element)}}return block(element.getBoundingClientRect().toRect().toAbsolute(),element)}return block({left:null,top:null},null)}},{key:\"getOffsetFromAnchor\",value:function(anchor){var _this=this;return this._getOffsetFromAnchor(anchor,function(rect,element){return _this._context.isScrollMode?null===rect.top?null:rect.top:null===rect.left?null:_this.getPageFromRect(rect,element)})}},{key:\"getOffsetFromSerializedRange\",value:function(serializedRange){try{var rectList=Range.fromSerializedRange(serializedRange,this.ref).getClientRects().toRectList().toAbsolute();return 0<rectList.length?this._context.isScrollMode?rectList[0].top:this.getPageFromRect(rectList[0]):null}catch(e){return null}}},{key:\"getRectListFromSerializedRange\",value:function(serializedRange){return Range.fromSerializedRange(serializedRange,this.ref).getTextRectList().trim().toAbsolute()}},{key:\"_findRectIndex\",value:function(rectList,startOffset,endOffset){for(var type=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Type.TOP,origin=this._context.isScrollMode?\"top\":\"left\",rectIndex=0;rectIndex<rectList.length;rectIndex+=1){var rect=rectList[rectIndex];if(type===Type.BOTTOM){if(endOffset<=rect[origin]&&0<rect.width)return rectIndex-1}else if(startOffset<=rect[origin]&&rect[origin]<=endOffset&&0<rect.width)return rectIndex}return null}},{key:\"_findNodeLocation\",value:function(startOffset,endOffset){for(var _this2=this,type=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Type.TOP,nodes=this.nodes,isScrollMode=this._context.isScrollMode,prev=null,_loop=function(nodeIndex){var node=nodes[nodeIndex],range=document.createRange();range.selectNodeContents(node);var rect=range.getBoundingClientRect().toRect().toAbsolute();if(rect.isEmpty){if(\"IMG\"!==node.nodeName)return\"continue\";if(range.selectNode(node),(rect=range.getBoundingClientRect().toRect().toAbsolute()).isEmpty)return\"continue\"}if((isScrollMode?rect.maxY:rect.maxX)<startOffset)return\"continue\";var rectIndex=void 0;if(node.nodeType===TEXT_NODE){var string=node.nodeValue;if(!string)return\"continue\";for(var words=string.split(_Util.default.getSplitWordRegex()),offset=range.startOffset,_loop2=function(wordIndex){var word=words[wordIndex];if(word.trim().length){try{range.setStart(node,offset),range.setEnd(node,offset+word.length)}catch(e){return{v:{v:null}}}var rectList=range.getClientRects().toRectList().toAbsolute();if(null!==(rectIndex=_this2._findRectIndex(rectList,startOffset,endOffset,type)))return rectIndex<0?(_this2._reader.lastNodeLocationRect=prev.rect,{v:{v:prev.location.toString()}}):(_this2._reader.lastNodeLocationRect=rectList[rectIndex],{v:{v:new _NodeLocation.default(nodeIndex,Math.min(wordIndex+rectIndex,words.length-1),type).toString()}});rectList.reverse().forEach(function(rect){rect[isScrollMode?\"bottom\":\"top\"]<endOffset&&(prev={location:new _NodeLocation.default(nodeIndex,wordIndex,type),rect:rect})})}offset+=word.length+1},wordIndex=0;wordIndex<words.length;wordIndex+=1){var _ret2=_loop2(wordIndex);if(\"object\"===_typeof(_ret2))return _ret2.v}}else if(\"IMG\"===node.nodeName){var rectList=range.getClientRects().toRectList().toAbsolute();if(null!==(rectIndex=_this2._findRectIndex(rectList,startOffset,endOffset,type)))return rectIndex<0?(_this2._reader.lastNodeLocationRect=prev.rect,{v:prev.location.toString()}):(_this2._reader.lastNodeLocationRect=rectList[rectIndex],{v:new _NodeLocation.default(nodeIndex,0,type).toString()});rectList.reverse().forEach(function(rect){rect[isScrollMode?\"bottom\":\"top\"]<endOffset&&(prev={location:new _NodeLocation.default(nodeIndex,0,type),rect:rect})})}},nodeIndex=0;nodeIndex<nodes.length;nodeIndex+=1){var _ret=_loop(nodeIndex);switch(_ret){case\"continue\":continue;default:if(\"object\"===_typeof(_ret))return _ret.v}}return null}},{key:\"getOffsetFromNodeLocation\",value:function(location){var type=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Type.TOP;if(null===location)return null;location instanceof _NodeLocation.default&&(location=location.toString());var _NodeLocation$fromStr=_NodeLocation.default.fromString(location,type),nodeIndex=_NodeLocation$fromStr.nodeIndex,wordIndex=_NodeLocation$fromStr.wordIndex;if(-1===nodeIndex||-1===wordIndex)return null;var node=this.nodes[nodeIndex];if(!node)return null;var range=document.createRange();range.selectNodeContents(node);var rect=range.getBoundingClientRect().toRect().toAbsolute();if(rect.isEmpty){if(\"IMG\"!==node.nodeName)return null;if(range.selectNode(node),(rect=range.getBoundingClientRect().toRect().toAbsolute()).isEmpty)return null}var page=this.getPageFromRect(rect);if(null===page||this._reader.totalSize<=this._context.pageUnit*page)return null;if(\"IMG\"===node.nodeName&&0===wordIndex)return this._context.isScrollMode?Math.max(rect.top-(type===Type.BOTTOM?this._context.pageUnit:0),0):page;var string=node.nodeValue;if(null===string)return null;for(var word,words=string.split(_Util.default.getSplitWordRegex()),offset=0,i=0;i<=Math.min(wordIndex,words.length-1);i+=1)offset+=(word=words[i]).length+1;try{range.setStart(range.startContainer,offset-word.length-1),range.setEnd(range.startContainer,offset-1)}catch(e){return null}var relativeRect=range.getBoundingClientRect().toRect();return rect=relativeRect.toAbsolute(),null===(page=this.getPageFromRect(rect))||this._reader.totalSize<=this._context.pageUnit*page?null:this._context.isScrollMode?Math.max(rect.top-(type===Type.BOTTOM?this._context.pageUnit:0),0):((relativeRect.left<0||(page+1)*this._context.pageUnit<rect.maxX)&&(rect.width<this._context.pageUnit?page+=1:page+=Math.floor(rect.width/this._context.pageUnit)),page)}}]),_Content}();exports.default=_default},{\"./NodeLocation\":3,\"./Util\":7}],9:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _Util=_interopRequireDefault(require(\"../common/Util\")),_Rect=_interopRequireDefault(require(\"./Rect\")),_RectList=_interopRequireDefault(require(\"./RectList\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _construct(Parent,args,Class){return(_construct=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||\"[object Arguments]\"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var _Node=Node,DOCUMENT_POSITION_PRECEDING=_Node.DOCUMENT_POSITION_PRECEDING,DOCUMENT_POSITION_FOLLOWING=_Node.DOCUMENT_POSITION_FOLLOWING,DOCUMENT_POSITION_CONTAINED_BY=_Node.DOCUMENT_POSITION_CONTAINED_BY,_Reader=function(){function _Reader(context){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,_Reader),this._injectMethod(),this._wrapper=document.documentElement,this.context=context,this.debugNodeLocation=!1,this.lastNodeLocationRect=null}return _createClass(_Reader,[{key:\"contents\",get:function(){return this._contents}},{key:\"context\",get:function(){return this._context},set:function(newValue){(this._context=newValue).shouldViewportInitialize&&this._setViewport()}},{key:\"totalWidth\",get:function(){return this._wrapper.scrollWidth}},{key:\"totalHeight\",get:function(){return this._wrapper.scrollHeight}},{key:\"totalSize\",get:function(){return this.context.isScrollMode?this.totalHeight:this.totalWidth}},{key:\"pageXOffset\",get:function(){return window.pageXOffset}},{key:\"pageYOffset\",get:function(){return window.pageYOffset}},{key:\"pageOffset\",get:function(){return this.context.isScrollMode?this.pageYOffset:this.pageXOffset}},{key:\"curPage\",get:function(){return this.pageOffset/this.context.pageUnit}}]),_createClass(_Reader,[{key:\"setContent\",value:function(ref,wrapper){this.setContents([ref],wrapper)}},{key:\"setContents\",value:function(refs,wrapper){var _this=this;this.lastNodeLocationRect=null,this._hideNodeLocation(),this._wrapper=wrapper||document.documentElement,this._contents=[],refs.forEach(function(ref){_this._contents.push(_this._createContent(ref))})}},{key:\"_createContent\",value:function(){return null}},{key:\"getContent\",value:function(key){return\"number\"==typeof key?this.contents[key]:this.contents.find(function(content){return content.ref===key})}},{key:\"_injectMethod\",value:function(){var inject=function(target,name,value){!(3<arguments.length&&void 0!==arguments[3]&&arguments[3])&&target[name]||(target[name]=value)};inject(Range.prototype,\"getTextRectList\",function(){var startContainer=this.startContainer,startOffset=this.startOffset,endContainer=this.endContainer,endOffset=this.endOffset,commonAncestorContainer=this.commonAncestorContainer;if(startContainer===endContainer){var innerText=startContainer.innerText;return void 0!==innerText&&0===innerText.length?[]:this.getClientRects().toRectList()}var iterator=_Util.default.createTextNodeIterator(commonAncestorContainer),range=document.createRange();range.setStart(startContainer,startOffset),range.setEnd(startContainer,startContainer.length);for(var node,rectList=range.getClientRects().toRectList();node=iterator.nextNode();)if(startContainer.compareDocumentPosition(node)!==DOCUMENT_POSITION_PRECEDING&&startContainer!==node){if(endContainer.compareDocumentPosition(node)===DOCUMENT_POSITION_FOLLOWING||endContainer===node)break;(range=document.createRange()).selectNodeContents(node),/^\\s*$/.test(range.toString())||(rectList=rectList.concat(range.getClientRects().toRectList()))}return(range=document.createRange()).setStart(endContainer,0),range.setEnd(endContainer,endOffset),/^\\s*$/.test(range.toString())||(rectList=rectList.concat(range.getClientRects().toRectList())),rectList}),inject(Range.prototype,\"toSerializedRange\",function(root){return rangy.serializeRange(this,!0,root)}),inject(Range,\"fromSerializedRange\",function(string,root){var range=rangy.deserializeRange(string,root),newRange=document.createRange();return newRange.setStart(range.startContainer,range.startOffset),newRange.setEnd(range.endContainer,range.endOffset),range.detach(),newRange});var rectCls=[];try{rectCls.push(DOMRect)}catch(e){}try{rectCls.push(ClientRect)}catch(e){}rectCls.forEach(function(cls){cls&&inject(cls.prototype,\"toRect\",function(){return new _Rect.default(this)})});var listCls=document.documentElement.getClientRects().constructor;inject(listCls.prototype,\"toRectList\",function(){return _construct(_RectList.default,_toConsumableArray(_RectList.default.from(this,function(rect){return rect.toRect()})))});var reader=this;inject(_Rect.default.prototype,\"toAbsolute\",function(){var pageXOffset=reader.pageXOffset,pageYOffset=reader.pageYOffset;return reader.context.isScrollMode?(this.top+=pageYOffset,this.bottom+=pageYOffset):(this.left+=pageXOffset,this.right+=pageXOffset),this},!0)}},{key:\"_setViewport\",value:function(){var value=\"width=\".concat(this.context.width,\", height=\").concat(this.context.height,\",\")+\" initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0\",viewport=document.querySelector(\"meta[name=viewport]\");null===viewport&&((viewport=document.createElement(\"meta\")).id=\"viewport\",viewport.name=\"viewport\",document.getElementsByTagName(\"head\")[0].appendChild(viewport)),viewport.content=value}},{key:\"_hideNodeLocation\",value:function(){var span=document.getElementById(\"node-location-highlight\");span&&span.setAttribute(\"style\",\"display: none !important\")}},{key:\"_showNodeLocationIfDebug\",value:function(){if(this.debugNodeLocation&&null!==this.lastNodeLocationRect){var id=\"node-location-highlight\",span=document.getElementById(id);span||((span=document.createElement(\"span\")).setAttribute(\"id\",id),document.body.appendChild(span));var rect=this.lastNodeLocationRect;rect[this.context.isScrollMode?\"top\":\"left\"]-=this.pageOffset,rect[this.context.isScrollMode?\"bottom\":\"right\"]-=this.pageOffset,span.style.cssText=\"position: absolute !important;background-color: red !important;\"+\"left: \".concat(rect.left,\"px !important;\")+\"top: \".concat(rect.top,\"px !important;\")+\"width: \".concat(rect.width||3,\"px !important;\")+\"height: \".concat(rect.height,\"px !important;\")+\"display: block !important;opacity: 0.4 !important;z-index: 99 !important;\"}}},{key:\"scrollTo\",value:function(offset){this.context.isScrollMode?window.scroll(0,offset):window.scroll(offset,0)}},{key:\"searchText\",value:function(keyword){if(window.find(keyword,!1)){var range=getSelection().getRangeAt(0);if(0<range.toString().length){var target=range.startContainer,ref=this.contents.find(function(content){return content.ref.compareDocumentPosition(target)&DOCUMENT_POSITION_CONTAINED_BY}).ref;if(ref)return range.toSerializedRange(ref)}}return null}},{key:\"resetSearch\",value:function(){getSelection().removeAllRanges()}},{key:\"getSurroundingTextForSearchResult\",value:function(){var pre=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,post=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,range=getSelection().getRangeAt(0),startContainer=range.startContainer,startOffset=range.startOffset,endContainer=range.endContainer,endOffset=range.endOffset,start=startOffset,newStart=Math.max(startOffset-pre,0),end=endOffset,newEnd=Math.min(newStart+post,endContainer.length);range.setStart(startContainer,newStart),range.setEnd(endContainer,newEnd);var result=range.toString();return range.setStart(startContainer,start),range.setEnd(endContainer,end),result}},{key:\"getRectListFromSearchResult\",value:function(){return getSelection().getRangeAt(0).getClientRects().toRectList().toAbsolute()}},{key:\"getPageFromSearchResult\",value:function(){var range=getSelection().getRangeAt(0);return this.contents.find(function(content){return content.ref.compareDocumentPosition(range.startContainer)&DOCUMENT_POSITION_CONTAINED_BY}).getPageFromRect(this.getRectListFromSearchResult()[0])}}]),_Reader}();exports.default=_Reader},{\"../common/Util\":7,\"./Rect\":4,\"./RectList\":5}],10:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _SpeechUtil=_interopRequireDefault(require(\"./SpeechUtil\")),_Util=_interopRequireDefault(require(\"../common/Util\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var _Node=Node,DOCUMENT_POSITION_FOLLOWING=_Node.DOCUMENT_POSITION_FOLLOWING,DOCUMENT_POSITION_PRECEDING=_Node.DOCUMENT_POSITION_PRECEDING,TEXT_NODE=_Node.TEXT_NODE,caretIterator=null,_Sel=function(){function _Sel(content){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,_Sel),this._reader=content._reader,this._content=content,this._startContainer=null,this._startOffset=null,this._endContainer=null,this._endOffset=null,this._isOverflowed=!1,this._continueContainer=null,this._continueOffset=null}return _createClass(_Sel,[{key:\"isExpandContinuableIntoNextPage\",get:function(){return this._isExpandContinuableIntoNextPage(this.getRange())}},{key:\"_context\",get:function(){return this._reader.context}}]),_createClass(_Sel,[{key:\"start\",value:function(x,y,unit){var range=this._getCaretRange(x,y,unit);return null!==range&&(this._expandRangeByWord(range),this._startContainer=range.startContainer,this._startOffset=range.startOffset,this._endContainer=range.endContainer,this._endOffset=range.endOffset,!0)}},{key:\"expandIntoUpper\",value:function(x,y){var unit=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"character\",exRange=this._getCaretRange(x,y,unit,!0);if(null===exRange)return!1;var containerDiff=this._endContainer.compareDocumentPosition(exRange.startContainer);if(containerDiff===DOCUMENT_POSITION_FOLLOWING||0===containerDiff&&this._endOffset<exRange.startOffset)return!1;if(exRange.startContainer===this._startContainer&&exRange.startOffset===this._startOffset)return!1;exRange.startContainer.childNodes.length&&exRange.setStart(exRange.startContainer.childNodes[exRange.startOffset],0),exRange.endContainer.childNodes.length&&exRange.setEnd(exRange.endContainer.childNodes[exRange.endOffset],exRange.endContainer.childNodes[exRange.endOffset].textContent.length);var range=document.createRange();return range.setStart(exRange.startContainer,exRange.startOffset),range.setEnd(this._endContainer,this._endOffset),!range.collapsed&&(!!this._isValid(range)&&(this._startContainer=exRange.startContainer,this._startOffset=exRange.startOffset,!0))}},{key:\"expandIntoLower\",value:function(x,y){var unit=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"character\",exRange=this._getCaretRange(x,y,unit,!0);if(null===exRange)return!1;var containerDiff=this._startContainer.compareDocumentPosition(exRange.endContainer);if(containerDiff===DOCUMENT_POSITION_PRECEDING||0===containerDiff&&this._startOffset>exRange.endOffset)return!1;if(exRange.endContainer===this._endContainer&&exRange.endOffset===this._endOffset)return!1;if(exRange.startContainer.childNodes.length&&exRange.setStart(exRange.startContainer.childNodes[exRange.startOffset],0),exRange.endContainer.childNodes.length&&exRange.setEnd(exRange.endContainer.childNodes[exRange.endOffset],exRange.endContainer.childNodes[exRange.endOffset].textContent.length),this._isOutOfBounds(exRange))return!1;var range=document.createRange();return range.setStart(this._startContainer,this._startOffset),range.setEnd(exRange.endContainer,exRange.endOffset),!range.collapsed&&(!!this._isValid(range)&&(this._endContainer=exRange.endContainer,this._endOffset=exRange.endOffset,!0))}},{key:\"expandIntoNextPage\",value:function(){return!!this.isExpandContinuableIntoNextPage&&(this._endContainer=this._continueContainer,this._endOffset=this._continueOffset,!0)}},{key:\"_getUpperBound\",value:function(){return 0}},{key:\"_isExpandContinuableIntoNextPage\",value:function(range){if(!this._context.isScrollMode){var upperBound=this._getUpperBound(),clonedRange=range.cloneRange(),node=clonedRange.endContainer,end=clonedRange.endOffset;do{for(var length=node.textContent.length;end<length;){if(clonedRange.setStart(node,end),clonedRange.setEnd(node,end+1),!/\\s/.test(clonedRange.toString()))return!(this._clientLeftOfRangeForCheckingNextPageContinuable(clonedRange)<upperBound)&&(this._expandRangeBySentence(clonedRange,2*upperBound),this._continueContainer=clonedRange.endContainer,this._continueOffset=clonedRange.endOffset,!0);end+=1}end=0}while(node=this._getNextTextNode(clonedRange))}return!1}},{key:\"_expandRangeByWord\",value:function(range){var startContainer=range.startContainer,endContainer=range.endContainer,tables=[_SpeechUtil.default.chineseCodeTable(),_SpeechUtil.default.japaneseCodeTable()];if(_SpeechUtil.default.getContainCharRegex(tables).test(range.toString()))range.expand(\"character\");else{for(var containerValueLength=startContainer.nodeValue.length,start=range.startOffset,origin=start;0<start;){if(/^\\s/.test(range.toString())){range.setStart(startContainer,start+=1);break}start-=1,range.setStart(startContainer,start)}for(;origin<containerValueLength;){if(/\\s$/.test(range.toString())){range.setEnd(endContainer,origin-=1);break}origin+=1,range.setEnd(endContainer,origin)}}}},{key:\"_expandRangeBySentence\",value:function(range){var expandBound=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,origin=range.endOffset;if(range.expand(\"sentence\"),!(expandBound<0))for(var end=range.endOffset;origin<end&&!(range.getBoundingClientRect().toRect().right<=expandBound);)range.setEnd(range.endContainer,end-=1)}},{key:\"_getNextTextNode\",value:function(range){var nextNode=range.endContainer.nextSibling;if(nextNode){if(nextNode.nodeType===TEXT_NODE)return nextNode;var textNode=_Util.default.createTextNodeIterator(nextNode).nextNode();return textNode||(range.setEnd(nextNode,0),this._getNextTextNode(range))}return range.setEndAfter(range.endContainer),\"BODY\"===range.endContainer.nodeName?null:this._getNextTextNode(range)}},{key:\"_isValid\",value:function(range){return range.toString().length>this._maxLength?(this._isOverflowed||this._context.onMessage(\"최대 \".concat(this._maxLength,\"자까지 선택할 수 있습니다.\")),this._isOverflowed=!0):this._isOverflowed=!1,!this._isOverflowed}},{key:\"_caretRangeFromPoint\",value:function(x,y){var unit=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"word\";if(this._context.isSameDomAsUi){var node;for(caretIterator?caretIterator.previousNode():caretIterator=_Util.default.createTextNodeIterator(this._content.ref,function(textNode){return!/^\\s*$/.test(textNode.nodeValue)&&textNode.parentElement.getBoundingClientRect().toRect().contains(x,y)});node=caretIterator.nextNode();){var range=document.createRange();range.selectNodeContents(node);for(var fontSize=_Util.default.getStylePropertyValue(node.parentElement,\"fontSize\"),lineHeight=_Util.default.getStylePropertyValue(node.parentElement,\"lineHeight\"),length=range.toString().length,i=0;i<length-1;i++){if(range.setStart(range.startContainer,i),range.setEnd(range.endContainer,i+1),range.getBoundingClientRect().toRect().inset(0,0,0,Math.max(lineHeight-fontSize,0)).contains(x,y))return range.expand(unit),range}}return caretIterator=null}return document.caretRangeFromPoint(x,y)}},{key:\"_getCaretRange\",value:function(x,y){var unit=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"word\",allowCollapsed=3<arguments.length&&void 0!==arguments[3]&&arguments[3],range=this._caretRangeFromPoint(x,y,this._content.ref,unit);return null===range?null:(range.expand(unit),!allowCollapsed&&range.collapsed?null:range)}},{key:\"_isOutOfBounds\",value:function(){return!1}},{key:\"getRange\",value:function(){var range=document.createRange();return range.setStart(this._startContainer,this._startOffset),range.setEnd(this._endContainer,this._endOffset),range}},{key:\"getSerializedRange\",value:function(){return this.getRange().toSerializedRange(this._content.ref)}},{key:\"getRectList\",value:function(){return this.getRange().getTextRectList().trim().toAbsolute()}},{key:\"getText\",value:function(){return this.getRange().toString()}}]),_Sel}();exports.default=_Sel},{\"../common/Util\":7,\"./SpeechUtil\":6}],11:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _Content3=_interopRequireDefault(require(\"../common/_Content\")),_NodeLocation=_interopRequireDefault(require(\"../common/NodeLocation\")),_Sel=_interopRequireDefault(require(\"./Sel\")),_Util=_interopRequireDefault(require(\"../common/Util\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||\"object\"!==_typeof(call)&&\"function\"!=typeof call?function(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Type=_NodeLocation.default.Type,Content=function(_Content2){function Content(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,Content),_possibleConstructorReturn(this,_getPrototypeOf(Content).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Content,_Content3[\"default\"]),Constructor=Content,(protoProps=[{key:\"_createSel\",value:function(){return new _Sel.default(this)}},{key:\"reviseImages\",value:function(callback){var _this=this,_this$_context=this._context,baseWidth=_this$_context.width,baseHeight=_this$_context.height,processedList=[],elements=this.images,tryReviseImages=function(){if(elements.length===processedList.length){var results=[];processedList.forEach(function(element){var _this$_reviseImage=_this._reviseImage(element,baseWidth,baseHeight),width=_this$_reviseImage.width,height=_this$_reviseImage.height,position=_this$_reviseImage.position;(width.length||height.length||position.length)&&results.push({element:element,width:width,height:height,position:position})}),results.forEach(function(result){var element=result.element,width=result.width,height=result.height,position=result.position;width.length&&(element.style.width=width),height.length&&(element.style.height=height),position.length&&(element.style.position=position)}),callback&&setTimeout(function(){callback()},0)}};elements.forEach(function(element){element.complete?processedList.push(element):(element.addEventListener(\"load\",function(){processedList.push(element),tryReviseImages()}),element.addEventListener(\"error\",function(){processedList.push(null),tryReviseImages()}))}),tryReviseImages()}},{key:\"getPageFromRect\",value:function(rect){return null===rect?null:this._context.isScrollMode?Math.floor(rect.top/this._context.pageHeightUnit)+1:Math.floor(rect.left/this._context.pageWidthUnit)+1}},{key:\"getPageFromAnchor\",value:function(anchor){var _this2=this;return this._getOffsetFromAnchor(anchor,function(rect,element){return null===rect.left||null===rect.top?null:_this2.getPageFromRect(rect,element)})}},{key:\"getPageFromSerializedRange\",value:function(serializedRange){var offset=this.getOffsetFromSerializedRange(serializedRange),_this$_context2=this._context,isScrollMode=_this$_context2.isScrollMode,pageHeightUnit=_this$_context2.pageHeightUnit;return isScrollMode&&null!==offset?Math.floor(offset/pageHeightUnit)+1:offset}},{key:\"getPageFromNodeLocation\",value:function(location){var type=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Type.TOP,offset=this.getOffsetFromNodeLocation(location,type),_this$_context3=this._context,isScrollMode=_this$_context3.isScrollMode,pageHeightUnit=_this$_context3.pageHeightUnit;return isScrollMode&&null!==offset?Math.floor(offset/pageHeightUnit)+1:offset}},{key:\"getCurrentNodeLocation\",value:function(){var type=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Type.TOP,leftMargin=(_Util.default.getStylePropertyValue(document.documentElement,\"width\")-_Util.default.getStylePropertyValue(this._ref,\"width\"))/2,_this$_context4=this._context,isScrollMode=_this$_context4.isScrollMode,pageUnit=_this$_context4.pageUnit,startOffset=this._reader.pageOffset+(isScrollMode?0:leftMargin),endOffset=startOffset+pageUnit,notFound=new _NodeLocation.default(-1,-1,type).toString(),location=this._findNodeLocation(startOffset,endOffset,type);return this._reader._showNodeLocationIfDebug(),location||notFound}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Content}();exports.default=Content},{\"../common/NodeLocation\":3,\"../common/Util\":7,\"../common/_Content\":8,\"./Sel\":13}],12:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _Reader3=_interopRequireDefault(require(\"../common/_Reader\")),_Content=_interopRequireDefault(require(\"./Content\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||\"object\"!==_typeof(call)&&\"function\"!=typeof call?function(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}(self):call}function _get(target,property,receiver){return(_get=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Reader=function(_Reader2){function Reader(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,Reader),_possibleConstructorReturn(this,_getPrototypeOf(Reader).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Reader,_Reader3[\"default\"]),Constructor=Reader,(protoProps=[{key:\"_createContent\",value:function(ref){return new _Content.default(ref,this)}},{key:\"searchText\",value:function(keyword){var serializedRange=_get(_getPrototypeOf(Reader.prototype),\"searchText\",this).call(this,keyword);return serializedRange?{serializedRange:serializedRange,rectList:this.getRectListFromSearchResult(),text:this.getSurroundingTextForSearchResult(),page:this.getPageFromSearchResult()}:null}},{key:\"pageXOffset\",get:function(){return this._wrapper.parentElement.scrollLeft}},{key:\"curPage\",get:function(){return _get(_getPrototypeOf(Reader.prototype),\"curPage\",this)+1}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Reader}();exports.default=Reader},{\"../common/_Reader\":9,\"./Content\":11}],13:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var obj,_Sel3=(obj=require(\"../common/_Sel\"))&&obj.__esModule?obj:{default:obj};function _typeof(obj){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||\"object\"!==_typeof(call)&&\"function\"!=typeof call?function(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Sel=function(_Sel2){function Sel(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,Sel),_possibleConstructorReturn(this,_getPrototypeOf(Sel).apply(this,arguments))}return function(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Sel,_Sel3[\"default\"]),Sel}();exports.default=Sel},{\"../common/_Sel\":10}],14:[function(require,module,exports){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),Object.defineProperty(exports,\"Context\",{enumerable:!0,get:function(){return _Context.default}}),Object.defineProperty(exports,\"NodeLocation\",{enumerable:!0,get:function(){return _NodeLocation.default}}),Object.defineProperty(exports,\"Reader\",{enumerable:!0,get:function(){return _Reader.default}}),Object.defineProperty(exports,\"Rect\",{enumerable:!0,get:function(){return _Rect.default}}),Object.defineProperty(exports,\"RectList\",{enumerable:!0,get:function(){return _RectList.default}}),Object.defineProperty(exports,\"Util\",{enumerable:!0,get:function(){return _Util.default}}),exports.default=void 0;var _Context=_interopRequireDefault(require(\"../common/Context\")),_NodeLocation=_interopRequireDefault(require(\"../common/NodeLocation\")),_Reader=_interopRequireDefault(require(\"./Reader\")),_Rect=_interopRequireDefault(require(\"../common/Rect\")),_RectList=_interopRequireDefault(require(\"../common/RectList\")),_Util=_interopRequireDefault(require(\"../common/Util\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={Context:_Context.default,NodeLocation:_NodeLocation.default,Reader:_Reader.default,Rect:_Rect.default,RectList:_RectList.default,Util:_Util.default};exports.default=_default},{\"../common/Context\":1,\"../common/NodeLocation\":3,\"../common/Rect\":4,\"../common/RectList\":5,\"../common/Util\":7,\"./Reader\":12}]},{},[14])(14)}),\"function\"!=typeof Object.assign&&(Object.assign=function(target){\"use strict\";if(null==target)throw new TypeError(\"Cannot convert undefined or null to object\");for(var output=Object(target),index=1;index<arguments.length;index++){var source=arguments[index];if(null!=source)for(var nextKey in source)source.hasOwnProperty(nextKey)&&(output[nextKey]=source[nextKey])}return output}),Array.prototype.find||Object.defineProperty(Array.prototype,\"find\",{value:function(predicate){if(null==this)throw new TypeError('\"this\" is null or not defined');var o=Object(this),len=o.length>>>0;if(\"function\"!=typeof predicate)throw new TypeError(\"predicate must be a function\");for(var thisArg=arguments[1],k=0;k<len;){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o))return kValue;k++}},configurable:!0,writable:!0}),Array.from||(Array.from=function(){var toStr=Object.prototype.toString,isCallable=function(fn){return\"function\"==typeof fn||\"[object Function]\"===toStr.call(fn)},maxSafeInteger=Math.pow(2,53)-1,toLength=function(value){var len=function(value){var number=Number(value);return isNaN(number)?0:0!==number&&isFinite(number)?(0<number?1:-1)*Math.floor(Math.abs(number)):number}(value);return Math.min(Math.max(len,0),maxSafeInteger)};return function(arrayLike){var items=Object(arrayLike);if(null==arrayLike)throw new TypeError(\"Array.from requires an array-like object - not null or undefined\");var T,mapFn=1<arguments.length?arguments[1]:void 0;if(void 0!==mapFn){if(!isCallable(mapFn))throw new TypeError(\"Array.from: when provided, the second argument must be a function\");2<arguments.length&&(T=arguments[2])}for(var kValue,len=toLength(items.length),A=isCallable(this)?Object(new this(len)):new Array(len),k=0;k<len;)kValue=items[k],A[k]=mapFn?void 0===T?mapFn(kValue,k):mapFn.call(T,kValue,k):kValue,k+=1;return A.length=len,A}}()),\"function\"!=typeof window.getMatchedCSSRules){var ELEMENT_RE=/[\\w-]+/g,ID_RE=/#[\\w-]+/g,CLASS_RE=/\\.[\\w-]+/g,ATTR_RE=/\\[[^\\]]+\\]/g,PSEUDO_CLASSES_RE=/\\:(?!not)[\\w-]+(\\(.*\\))?/g,PSEUDO_ELEMENTS_RE=/\\:\\:?(after|before|first-letter|first-line|selection)/g;function toArray(list){return[].slice.call(list||[])}function getSheetRules(stylesheet){var sheet_media=stylesheet.media&&stylesheet.media.mediaText;return stylesheet.disabled?[]:sheet_media&&sheet_media.length&&!window.matchMedia(sheet_media).matches?[]:toArray(stylesheet.cssRules)}function _find(string,re){string.match(re);return re?re.length:0}function calculateScore(selector){for(var part,match,score=[0,0,0],parts=selector.split(\" \");\"string\"==typeof(part=parts.shift());)match=_find(part,PSEUDO_ELEMENTS_RE),(score[2]=match)&&(part=part.replace(PSEUDO_ELEMENTS_RE,\"\")),match=_find(part,PSEUDO_CLASSES_RE),(score[1]=match)&&(part=part.replace(PSEUDO_CLASSES_RE,\"\")),match=_find(part,ATTR_RE),score[1]+=match,match&&(part=part.replace(ATTR_RE,\"\")),match=_find(part,ID_RE),(score[0]=match)&&(part=part.replace(ID_RE,\"\")),match=_find(part,CLASS_RE),score[1]+=match,match&&(part=part.replace(CLASS_RE,\"\")),score[2]+=_find(part,ELEMENT_RE);return parseInt(score.join(\"\"),10)}function getSpecificityScore(element,selector_text){for(var selector,score,selectors=selector_text.split(\",\"),result=0;selector=selectors.shift();)element.webkitMatchesSelector(selector)&&(result=result<(score=calculateScore(selector))?score:result);return result}function sortBySpecificity(element,rules){return rules.sort(function(a,b){return getSpecificityScore(element,b.selectorText)-getSpecificityScore(element,a.selectorText)})}window.getMatchedCSSRules=function(element){var style_sheets,sheet,rules,rule,result=[];for(style_sheets=toArray(window.document.styleSheets);sheet=style_sheets.shift();)for(rules=getSheetRules(sheet);rule=rules.shift();)rule.styleSheet?rules=getSheetRules(rule.styleSheet).concat(rules):rule.media?rules=getSheetRules(rule).concat(rules):rule.selectorText&&0!==rule.selectorText.length&&element.webkitMatchesSelector(rule.selectorText)&&result.push(rule);return sortBySpecificity(element,result)}}var crc32=function(){var cachedCrcTable=null;return function(str){for(var utf8CharCodes=function(str){for(var c,utf8CharCodes=[],i=0,len=str.length;i<len;++i)(c=str.charCodeAt(i))<128?utf8CharCodes.push(c):c<2048?utf8CharCodes.push(c>>6|192,63&c|128):utf8CharCodes.push(c>>12|224,c>>6&63|128,63&c|128);return utf8CharCodes}(str),crc=-1,crcTable=(cachedCrcTable||(cachedCrcTable=function(){for(var j,crc,table=[],i=0;i<256;++i){for(crc=i,j=8;j--;)1==(1&crc)?crc=crc>>>1^3988292384:crc>>>=1;table[i]=crc>>>0}return table}()),cachedCrcTable),i=0,len=utf8CharCodes.length;i<len;++i)crc=crc>>>8^crcTable[255&(crc^utf8CharCodes[i])];return(-1^crc)>>>0}}(),rangy={nodeToInfoString:function(node,infoParts){var escapeTextForHtml=function(str){return str.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")};infoParts=infoParts||[];var nodeType=node.nodeType,children=node.childNodes,childCount=children.length,nodeInfo=[nodeType,node.nodeName,childCount].join(\":\"),start=\"\",end=\"\";switch(nodeType){case 3:start=escapeTextForHtml(node.nodeValue);break;case 8:start=\"\\x3c!--\"+escapeTextForHtml(node.nodeValue)+\"--\\x3e\";break;default:start=\"<\"+nodeInfo+\">\",end=\"</>\"}start&&infoParts.push(start);for(var i=0;i<childCount;++i)rangy.nodeToInfoString(children[i],infoParts);return end&&infoParts.push(end),infoParts},getElementChecksum:function(el){var info=rangy.nodeToInfoString(el).join(\"\");return crc32(info).toString(16)},getDocument:function(node){if(9==node.nodeType)return node;if(void 0!==node.ownerDocument)return node.ownerDocument;if(void 0!==node.document)return node.document;if(node.parentNode)return rangy.getDocument(node.parentNode);throw new Error(\"Error in Rangy: getDocument: no document found for node\")},getNodeIndex:function(node){for(var i=0;node=node.previousSibling;)++i;return i},getNodeLength:function(node){switch(node.nodeType){case 7:case 10:return 0;case 3:case 8:return node.length;default:return node.childNodes.length}},serializePosition:function(node,offset,rootNode){var pathParts=[],n=node;for(rootNode=rootNode||rangy.getDocument(node).documentElement;n&&n!=rootNode;)pathParts.push(rangy.getNodeIndex(n,!0)),n=n.parentNode;return pathParts.join(\"/\")+\":\"+offset},serializeRange:function(range,omitChecksum,rootNode){if(!function(ancestor,descendant,selfIsAncestor){for(var n=selfIsAncestor?descendant:descendant.parentNode;n;){if(n===ancestor)return!0;n=n.parentNode}return!1}(rootNode=rootNode||rangy.getDocument(range).startContainer,range.commonAncestorContainer,!0))throw new Error(\"Error in Rangy: serializeRange(): range is not wholly contained within specified root node.\");var serialized=rangy.serializePosition(range.startContainer,range.startOffset,rootNode)+\",\"+rangy.serializePosition(range.endContainer,range.endOffset,rootNode);return omitChecksum||(serialized+=\"{\"+rangy.getElementChecksum(rootNode)+\"}\"),serialized},deserializePosition:function(serialized,rootNode,doc){rootNode||(rootNode=(doc||document).documentElement);for(var nodeIndex,parts=serialized.split(\":\"),node=rootNode,nodeIndices=parts[0]?parts[0].split(\"/\"):[],i=nodeIndices.length;i--;){if(!((nodeIndex=parseInt(nodeIndices[i],10))<node.childNodes.length))throw new Error(\"Error in Rangy: deserializePosition() failed: node has no child with index \"+nodeIndex+\", \"+i+\".\");node=node.childNodes[nodeIndex]}return{node:node,offset:parseInt(parts[1],10)}},deserializeRegex:/^([^,]+),([^,\\{]+)(\\{([^}]+)\\})?$/,deserializeRange:function(serialized,rootNode,doc){rootNode?doc=doc||rangy.getDocument(rootNode):rootNode=(doc=doc||document).documentElement;var rootNodeChecksum,result=rangy.deserializeRegex.exec(serialized),checksum=result[4];if(checksum&&checksum!==(rootNodeChecksum=rangy.getElementChecksum(rootNode)))throw new Error(\"deserializeRange: checksums of serialized range root node (\"+checksum+\") and target root node (\"+rootNodeChecksum+\") do not match\");var start=rangy.deserializePosition(result[1],rootNode,doc),end=rangy.deserializePosition(result[2],rootNode,doc),range=document.createRange();return range.setStart(start.node,start.offset),range.setEnd(end.node,end.offset),range},canDeserializeRange:function(serialized,rootNode,doc){rootNode||(rootNode=(doc||document).documentElement);var checksum=rangy.deserializeRegex.exec(serialized)[3];return!checksum||checksum===rangy.getElementChecksum(rootNode)}};\n\n//# sourceURL=webpack://reader/./node_modules/@ridi/reader.js/web/index.js?");

/***/ }),

/***/ "./src/constants/index.ts":
/*!********************************!*\
  !*** ./src/constants/index.ts ***!
  \********************************/
/*! exports provided: ViewType, BindingType, ImageStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewType\", function() { return ViewType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BindingType\", function() { return BindingType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageStatus\", function() { return ImageStatus; });\nvar ViewType;\n\n(function (ViewType) {\n  ViewType[\"SCROLL\"] = \"scroll\";\n  ViewType[\"PAGE1\"] = \"page1\";\n  ViewType[\"PAGE12\"] = \"page12\";\n  ViewType[\"PAGE23\"] = \"page23\";\n})(ViewType || (ViewType = {}));\n\nvar BindingType;\n\n(function (BindingType) {\n  BindingType[\"LEFT\"] = \"left\";\n  BindingType[\"RIGHT\"] = \"right\";\n})(BindingType || (BindingType = {}));\n\nvar ImageStatus;\n\n(function (ImageStatus) {\n  ImageStatus[\"NONE\"] = \"none\";\n  ImageStatus[\"LOADING\"] = \"loading\";\n  ImageStatus[\"ERROR\"] = \"error\";\n  ImageStatus[\"LOADED\"] = \"loaded\";\n})(ImageStatus || (ImageStatus = {}));\n\n//# sourceURL=webpack://reader/./src/constants/index.ts?");

/***/ }),

/***/ "./src/utils/ComicSettingUtil.ts":
/*!***************************************!*\
  !*** ./src/utils/ComicSettingUtil.ts ***!
  \***************************************/
/*! exports provided: isScroll, isDoublePage, columnsInPage, contentWidth, ratio, containerWidth, allowedPageNumber, objectPosition, startWithBlankPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isScroll\", function() { return isScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDoublePage\", function() { return isDoublePage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"columnsInPage\", function() { return columnsInPage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"contentWidth\", function() { return contentWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ratio\", function() { return ratio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"containerWidth\", function() { return containerWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"allowedPageNumber\", function() { return allowedPageNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectPosition\", function() { return objectPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"startWithBlankPage\", function() { return startWithBlankPage; });\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util */ \"./src/utils/Util.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants/index.ts\");\n\n\nvar isScroll = function isScroll(_ref) {\n  var viewType = _ref.viewType;\n  return viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].SCROLL;\n};\nvar isDoublePage = function isDoublePage(_ref2) {\n  var viewType = _ref2.viewType;\n  return viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE12 || viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23;\n};\nvar columnsInPage = function columnsInPage(_ref3) {\n  var viewType = _ref3.viewType;\n  return viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE12 || viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23 ? 2 : 1;\n};\nvar contentWidth = function contentWidth(setting) {\n  var clientWidth = Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"getClientWidth\"])();\n\n  if (isScroll(setting)) {\n    return Math.ceil(clientWidth * (setting.contentWidthInPercent / 100));\n  }\n\n  return clientWidth / columnsInPage(setting);\n};\nvar ratio = function ratio(width, height) {\n  return height && width ? height / width : 1.4;\n};\nvar containerWidth = function containerWidth(setting, calculation) {\n  var widthPerContent = contentWidth(setting);\n  var totalPage = calculation.totalPage + (setting.viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23 ? 1 : 0);\n  if (isDoublePage(setting) && totalPage % 2 === 1) totalPage += 1;\n  return widthPerContent * totalPage;\n}; // BindingType.LEFT && ViewType.PAGE12 => [1(page# on screen), 2] [3, 4] ...\n// BindingType.RIGHT && ViewTYpe.PAGE12 => [2, 1(page# on screen)] [4, 3] ...\n// BindingType.RIGHT && ViewTYpe.PAGE23 => [1, 0(page# on screen)] [3, 2] ...\n// BindingType.LEFT && ViewType.PAGE23 => [0(page# on screen), 1] [2, 3] ...\n\nvar allowedPageNumber = function allowedPageNumber(setting, calculation, page) {\n  var allowedPage = page;\n  var isAllowedZeroPage = setting.viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23;\n  var allowedPageRange = [isAllowedZeroPage ? 0 : 1, calculation.totalPage];\n\n  if (isDoublePage(setting)) {\n    var isOnlyAllowedEvenPage = setting.viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23;\n    var isOnlyAllowedOddPage = setting.viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE12;\n    var isEven = allowedPage % 2 === 0;\n    if (isEven && !isOnlyAllowedEvenPage) allowedPage -= 1;\n    if (!isEven && !isOnlyAllowedOddPage) allowedPage -= 1;\n  }\n\n  return Math.max(Math.min(allowedPage, allowedPageRange[1]), allowedPageRange[0]);\n};\nvar objectPosition = function objectPosition(setting, imageIndex) {\n  if (isScroll(setting) || !isDoublePage(setting)) {\n    return '50% 50%';\n  } // BindingType.LEFT && ViewType.PAGE12 => [imageIndex: 0, 1] [2, 3] even => right, odd => left\n  // BindingType.RIGHT && ViewTYpe.PAGE23 => [0, -1] [2, 1] even => right, odd => left\n  // BindingType.LEFT && ViewType.PAGE23 => [-1, 0] [1, 2] even => left, odd => right\n  // BindingType.RIGHT && ViewTYpe.PAGE12 => [1, 0] [3, 2] even => left, odd => right\n\n\n  if (setting.bindingType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"BindingType\"].LEFT && setting.viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE12 || setting.bindingType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"BindingType\"].RIGHT && setting.viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23) {\n    return imageIndex % 2 === 0 ? 'right 50%' : 'left 50%';\n  } else {\n    return imageIndex % 2 === 0 ? 'left 50%' : 'right 50%';\n  }\n};\nvar startWithBlankPage = function startWithBlankPage(_ref4) {\n  var viewType = _ref4.viewType;\n  return viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23;\n};\n\n//# sourceURL=webpack://reader/./src/utils/ComicSettingUtil.ts?");

/***/ }),

/***/ "./src/utils/EpubSettingUtil.ts":
/*!**************************************!*\
  !*** ./src/utils/EpubSettingUtil.ts ***!
  \**************************************/
/*! exports provided: isScroll, isDoublePage, columnsInPage, columnWidth, columnGap, contentPadding, containerWidth, containerHeight, allowedPageNumber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isScroll\", function() { return isScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDoublePage\", function() { return isDoublePage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"columnsInPage\", function() { return columnsInPage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"columnWidth\", function() { return columnWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"columnGap\", function() { return columnGap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"contentPadding\", function() { return contentPadding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"containerWidth\", function() { return containerWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"containerHeight\", function() { return containerHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"allowedPageNumber\", function() { return allowedPageNumber; });\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util */ \"./src/utils/Util.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants/index.ts\");\n\n\nvar isScroll = function isScroll(_ref) {\n  var viewType = _ref.viewType;\n  return viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].SCROLL;\n};\nvar isDoublePage = function isDoublePage(_ref2) {\n  var viewType = _ref2.viewType;\n  return viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE12 || viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23;\n};\nvar columnsInPage = function columnsInPage(_ref3) {\n  var viewType = _ref3.viewType;\n  return viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE12 || viewType === _constants__WEBPACK_IMPORTED_MODULE_1__[\"ViewType\"].PAGE23 ? 2 : 1;\n}; // 페이징 방식일 경우 페이징에 사용하는 offsetLeft 값이 항상 정수만 리턴하므로 발생하는 문제가 있다.\n// 그래서 항상 columnWidth가 정수를 리턴하도록 하려면 containerWidth와 columnGap 계산 결과가 짝수여야 한다.\n// columnWidth: 반드시 정수가 되려면 = (containerWidth: even number - (columnGap: even number * (columns - 1))) / columns;\n\nvar columnWidth = function columnWidth(setting) {\n  var columns = columnsInPage(setting);\n  return (containerWidth(setting) - columnGap(setting) * (columns - 1)) / columns;\n};\nvar columnGap = function columnGap(_ref4) {\n  var columnGapInPercent = _ref4.columnGapInPercent;\n  var result = Math.ceil(Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"getClientWidth\"])() * (columnGapInPercent / 100));\n  return result % 2 === 1 ? result + 1 : result;\n};\nvar contentPadding = function contentPadding(_ref5) {\n  var contentPaddingInPercent = _ref5.contentPaddingInPercent;\n  var clientWidth = Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"getClientWidth\"])();\n  return Math.ceil(clientWidth * (contentPaddingInPercent / 100));\n};\nvar containerWidth = function containerWidth(setting) {\n  var clientWidth = Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"getClientWidth\"])();\n  var containerWidth = clientWidth - setting.containerHorizontalMargin * 2;\n  var result = containerWidth - contentPadding(setting) * 2;\n  return result % 2 === 1 ? result + 1 : result;\n};\nvar containerHeight = function containerHeight(_ref6) {\n  var containerVerticalMargin = _ref6.containerVerticalMargin;\n  var clientHeight = Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"getClientHeight\"])();\n  return clientHeight - containerVerticalMargin * 2;\n};\nvar allowedPageNumber = function allowedPageNumber(setting, calculation, page) {\n  var allowedPage = page;\n  var isEven = allowedPage % 2 === 0;\n  var allowedPageRange = [1, calculation.totalPage];\n  if (isDoublePage(setting) && isEven) allowedPage -= 1;\n  return Math.max(Math.min(allowedPage, allowedPageRange[1]), allowedPageRange[0]);\n};\n\n//# sourceURL=webpack://reader/./src/utils/EpubSettingUtil.ts?");

/***/ }),

/***/ "./src/utils/Util.ts":
/*!***************************!*\
  !*** ./src/utils/Util.ts ***!
  \***************************/
/*! exports provided: getRootElement, getContentRootElement, getContentContainerElement, getScrollWidth, getScrollHeight, getScrollLeft, getScrollTop, setScrollLeft, setScrollTop, getClientWidth, getClientHeight, debounce, throttle, sleep, hasIntersect, logger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRootElement\", function() { return getRootElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContentRootElement\", function() { return getContentRootElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContentContainerElement\", function() { return getContentContainerElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollWidth\", function() { return getScrollWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollHeight\", function() { return getScrollHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollLeft\", function() { return getScrollLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollTop\", function() { return getScrollTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setScrollLeft\", function() { return setScrollLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setScrollTop\", function() { return setScrollTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getClientWidth\", function() { return getClientWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getClientHeight\", function() { return getClientHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounce\", function() { return debounce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"throttle\", function() { return throttle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sleep\", function() { return sleep; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasIntersect\", function() { return hasIntersect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logger\", function() { return logger; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar getRootElement = function getRootElement() {\n  if (document.scrollingElement) return document.scrollingElement;\n  return document.documentElement || document.body;\n};\nvar getContentRootElement = function getContentRootElement() {\n  return document.getElementById('content_root');\n};\nvar getContentContainerElement = function getContentContainerElement() {\n  return document.getElementById('content_container');\n};\nvar getScrollWidth = function getScrollWidth() {\n  var rootElement = getContentRootElement();\n  return rootElement ? rootElement.scrollWidth : 0;\n};\nvar getScrollHeight = function getScrollHeight() {\n  var rootElement = getRootElement();\n  return rootElement ? rootElement.scrollHeight : 0;\n};\nvar getScrollLeft = function getScrollLeft() {\n  var rootElement = getContentRootElement();\n  return rootElement ? rootElement.scrollLeft : 0;\n};\nvar getScrollTop = function getScrollTop() {\n  var rootElement = getRootElement();\n  return rootElement ? rootElement.scrollTop : 0;\n};\nvar setScrollLeft = function setScrollLeft(scrollLeft) {\n  var rootElement = getContentRootElement();\n\n  if (rootElement) {\n    rootElement.scrollLeft = scrollLeft;\n  }\n};\nvar setScrollTop = function setScrollTop(scrollTop) {\n  var rootElement = getRootElement();\n\n  if (rootElement) {\n    rootElement.scrollTop = scrollTop;\n  }\n};\nvar getClientWidth = function getClientWidth() {\n  return document.documentElement.clientWidth;\n};\nvar getClientHeight = function getClientHeight() {\n  return document.documentElement.clientHeight;\n};\n/**\n * Create a debounced(grouping multiple event listener in one) function\n * And the latest invoking of this deboucnced function will only be taken after `wait` miliseconds periods.\n *\n * @param {function} fn\n * @param {number} [wait=100]\n * @param {boolean} [immediate=false]\n * @return {function} debounced function\n */\n\nvar debounce = function debounce(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (immediate && !timeout) {\n      // immediately run at the first time\n      fn.apply(null, args);\n    }\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n\n    timeout = setTimeout(function () {\n      timeout = null;\n      fn.apply(null, args);\n    }, wait);\n  };\n};\n/**\n * Create a throttled(invoking only once in specified limited time) function\n *\n * @param {function} fn\n * @param {number} [limit=100] up to 1 invoke per ${limit} milliseconds\n * @param {boolean} [delayed=false] invoke ${fn} after ${limit} milliseconds delayed\n * @returns {function} throttled function\n */\n\nvar throttle = function throttle(fn) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  var delayed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var inThrottle = false;\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (!inThrottle) {\n      if (delayed) {\n        setTimeout(function () {\n          return fn.apply(null, args);\n        }, limit);\n      } else {\n        fn.apply(null, args);\n      }\n\n      inThrottle = true;\n      setTimeout(function () {\n        inThrottle = false;\n      }, limit);\n    }\n  };\n};\nvar sleep =\n/*#__PURE__*/\nfunction () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(\n  /*#__PURE__*/\n  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n    var millisecond,\n        _args = arguments;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            millisecond = _args.length > 0 && _args[0] !== undefined ? _args[0] : 0;\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              return setTimeout(resolve, millisecond);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function sleep() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar hasIntersect = function hasIntersect(r1, r2) {\n  return r1[0] < r2[0] ? r1[1] > r2[0] : r2[1] > r1[0];\n};\nvar logger = console.log;\n\n//# sourceURL=webpack://reader/./src/utils/Util.ts?");

/***/ }),

/***/ "./src/utils/index.ts":
/*!****************************!*\
  !*** ./src/utils/index.ts ***!
  \****************************/
/*! exports provided: SettingUtil, EpubSettingUtil, ComicSettingUtil, Util, Context, Rect, RectList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SettingUtil\", function() { return SettingUtil; });\n/* harmony import */ var _ridi_reader_js_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ridi/reader.js/web */ \"./node_modules/@ridi/reader.js/web/index.js\");\n/* harmony import */ var _ridi_reader_js_web__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ridi_reader_js_web__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Context\", function() { return _ridi_reader_js_web__WEBPACK_IMPORTED_MODULE_0__[\"Context\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rect\", function() { return _ridi_reader_js_web__WEBPACK_IMPORTED_MODULE_0__[\"Rect\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RectList\", function() { return _ridi_reader_js_web__WEBPACK_IMPORTED_MODULE_0__[\"RectList\"]; });\n\n/* harmony import */ var _ComicSettingUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ComicSettingUtil */ \"./src/utils/ComicSettingUtil.ts\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"ComicSettingUtil\", function() { return _ComicSettingUtil__WEBPACK_IMPORTED_MODULE_1__; });\n/* harmony import */ var _EpubSettingUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EpubSettingUtil */ \"./src/utils/EpubSettingUtil.ts\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"EpubSettingUtil\", function() { return _EpubSettingUtil__WEBPACK_IMPORTED_MODULE_2__; });\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Util */ \"./src/utils/Util.ts\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"Util\", function() { return _Util__WEBPACK_IMPORTED_MODULE_3__; });\n\n\n\n // todo deprecated `SettingUtil`\n\nvar SettingUtil = _EpubSettingUtil__WEBPACK_IMPORTED_MODULE_2__;\n\n\n//# sourceURL=webpack://reader/./src/utils/index.ts?");

/***/ })

/******/ });
});